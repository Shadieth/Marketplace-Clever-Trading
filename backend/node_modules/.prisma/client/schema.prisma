generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String    @id @default(uuid()) @db.Uuid
  name      String
  email     String    @unique
  password  String
  role      Role
  products  Product[] // Relaci√≥n con productos
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

model Product {
  id                String            @id @default(uuid()) @db.Uuid
  title             String
  description       String
  price             Decimal
  minOrder          Int
  stock             Int
  country           Country
  brand             String?
  shippingOptions   ShippingOptions[]
  shippingCountries Country[]
  images            String[]
  sellerId          String            @db.Uuid // Corregido tipo de dato a String (UUID)
  seller            User              @relation(fields: [sellerId], references: [id])
  createdAt         DateTime          @default(now())
  updatedAt         DateTime          @updatedAt
}

enum ShippingOptions {
  PICKUP
  NATIONAL
  INTERNATIONAL
}

enum Country {
  AUSTRIA
  BELGIUM
  BULGARIA
  CROATIA
  CYPRUS
  CZECH_REPUBLIC
  DENMARK
  ESTONIA
  FINLAND
  FRANCE
  GERMANY
  GREECE
  HUNGARY
  IRELAND
  ITALY
  LATVIA
  LITHUANIA
  LUXEMBOURG
  MALTA
  NETHERLANDS
  POLAND
  PORTUGAL
  ROMANIA
  SLOVAKIA
  SLOVENIA
  SPAIN
  SWEDEN
}

enum Role {
  CLIENT
  SELLER
}
